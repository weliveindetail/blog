
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Tutorial &#8212; The LLDB Debugger</title>
    <link rel="stylesheet" href="../static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../static/lldb.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../static/documentation_options.js"></script>
    <script type="text/javascript" src="../static/jquery.js"></script>
    <script type="text/javascript" src="../static/underscore.js"></script>
    <script type="text/javascript" src="../static/doctools.js"></script>
    <script type="text/javascript" src="../static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="GDB to LLDB command map" href="map.html" />
    <link rel="prev" title="Projects" href="../status/projects.html" />
   
  <link rel="stylesheet" href="../static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="tutorial">
<h1>Tutorial<a class="headerlink" href="#tutorial" title="Permalink to this headline">¶</a></h1>
<p>Here’s a short precis of how to run lldb if you are familiar with the gdb
command set. We will start with some details on lldb command structure and
syntax to help orient you.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#command-structure" id="id1">Command Structure</a></p></li>
<li><p><a class="reference internal" href="#loading-a-program-into-lldb" id="id2">Loading a Program into lldb</a></p></li>
<li><p><a class="reference internal" href="#setting-breakpoints" id="id3">Setting Breakpoints</a></p></li>
<li><p><a class="reference internal" href="#breakpoint-names" id="id4">Breakpoint Names</a></p></li>
<li><p><a class="reference internal" href="#setting-watchpoints" id="id5">Setting Watchpoints</a></p></li>
<li><p><a class="reference internal" href="#starting-or-attaching-to-your-program" id="id6">Starting or Attaching to Your Program</a></p></li>
<li><p><a class="reference internal" href="#controlling-your-program" id="id7">Controlling Your Program</a></p></li>
<li><p><a class="reference internal" href="#examining-thread-state" id="id8">Examining Thread State</a></p></li>
<li><p><a class="reference internal" href="#examining-stack-frame-state" id="id9">Examining Stack Frame State</a></p></li>
</ul>
</div>
<div class="section" id="command-structure">
<h2><a class="toc-backref" href="#id1">Command Structure</a><a class="headerlink" href="#command-structure" title="Permalink to this headline">¶</a></h2>
<p>Unlike gdb’s command set, which is rather free-form, we tried to make the lldb command syntax fairly structured. The commands are all of the form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">noun</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">verb</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">-</span><span class="n">options</span> <span class="p">[</span><span class="n">option</span><span class="o">-</span><span class="n">value</span><span class="p">]]</span> <span class="p">[</span><span class="n">argument</span> <span class="p">[</span><span class="n">argument</span><span class="o">...</span><span class="p">]]</span>
</pre></div>
</div>
<p>The command line parsing is done before command execution, so it is uniform
across all the commands. The command syntax for basic commands is very simple,
arguments, options and option values are all white-space separated, and
double-quotes are used to protect white-spaces in an argument. If you need to
put a backslash or double-quote character in an argument you back-slash it in
the argument. That makes the command syntax more regular, but it also means you
may have to quote some arguments in lldb that you wouldn’t in gdb.</p>
<p>Options can be placed anywhere on the command line, but if the arguments begin
with a “-” then you have to tell lldb that you’re done with options for the
current command by adding an option termination: “–” So for instance if you
want to launch a process and give the “process launch” command the
“–stop-at-entry” option, yet you want the process you are about to launch to
be launched with the arguments “-program_arg value”, you would type:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">process</span> <span class="n">launch</span> <span class="o">--</span><span class="n">stop</span><span class="o">-</span><span class="n">at</span><span class="o">-</span><span class="n">entry</span> <span class="o">--</span> <span class="o">-</span><span class="n">program_arg</span> <span class="n">value</span>
</pre></div>
</div>
<p>We also tried to reduce the number of special purpose argument parsers, which
sometimes forces the user to be a little more explicit about stating their
intentions. The first instance you’ll note of this is the breakpoint command.
In gdb, to set a breakpoint, you might enter</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">gdb</span><span class="p">)</span> <span class="k">break</span> <span class="n">foo</span><span class="o">.</span><span class="n">c</span><span class="p">:</span><span class="mi">12</span>
</pre></div>
</div>
<p>to break at line 12 of foo.c, and:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">gdb</span><span class="p">)</span> <span class="k">break</span> <span class="n">foo</span>
</pre></div>
</div>
<p>to break at the function foo. As time went on, the parser that tells foo.c:12
from foo from foo.c::foo (which means the function foo in the file foo.c) got
more and more complex and bizarre, and especially in C++ there are times where
there’s really no way to specify the function you want to break on. The lldb
commands are more verbose but also more precise and allow for intelligent auto
completion.</p>
<p>To set the same file and line breakpoint in LLDB you can enter either of:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">breakpoint</span> <span class="nb">set</span> <span class="o">--</span><span class="n">file</span> <span class="n">foo</span><span class="o">.</span><span class="n">c</span> <span class="o">--</span><span class="n">line</span> <span class="mi">12</span>
<span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">breakpoint</span> <span class="nb">set</span> <span class="o">-</span><span class="n">f</span> <span class="n">foo</span><span class="o">.</span><span class="n">c</span> <span class="o">-</span><span class="n">l</span> <span class="mi">12</span>
</pre></div>
</div>
<p>To set a breakpoint on a function named foo in LLDB you can enter either of:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">breakpoint</span> <span class="nb">set</span> <span class="o">--</span><span class="n">name</span> <span class="n">foo</span>
<span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">breakpoint</span> <span class="nb">set</span> <span class="o">-</span><span class="n">n</span> <span class="n">foo</span>
</pre></div>
</div>
<p>You can use the –name option multiple times to make a breakpoint on a set of
functions as well. This is convenient since it allows you to set common
conditions or commands without having to specify them multiple times:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">breakpoint</span> <span class="nb">set</span> <span class="o">--</span><span class="n">name</span> <span class="n">foo</span> <span class="o">--</span><span class="n">name</span> <span class="n">bar</span>
</pre></div>
</div>
<p>Setting breakpoints by name is even more specialized in LLDB as you can specify
that you want to set a breakpoint at a function by method name. To set a
breakpoint on all C++ methods named foo you can enter either of:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">breakpoint</span> <span class="nb">set</span> <span class="o">--</span><span class="n">method</span> <span class="n">foo</span>
<span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">breakpoint</span> <span class="nb">set</span> <span class="o">-</span><span class="n">M</span> <span class="n">foo</span>
</pre></div>
</div>
<p>To set a breakpoint Objective-C selectors named alignLeftEdges: you can enter either of:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">breakpoint</span> <span class="nb">set</span> <span class="o">--</span><span class="n">selector</span> <span class="n">alignLeftEdges</span><span class="p">:</span>
<span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">breakpoint</span> <span class="nb">set</span> <span class="o">-</span><span class="n">S</span> <span class="n">alignLeftEdges</span><span class="p">:</span>
</pre></div>
</div>
<p>You can limit any breakpoints to a specific executable image by using the
“–shlib &lt;path&gt;” (“-s &lt;path&gt;” for short):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">breakpoint</span> <span class="nb">set</span> <span class="o">--</span><span class="n">shlib</span> <span class="n">foo</span><span class="o">.</span><span class="n">dylib</span> <span class="o">--</span><span class="n">name</span> <span class="n">foo</span>
<span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">breakpoint</span> <span class="nb">set</span> <span class="o">-</span><span class="n">s</span> <span class="n">foo</span><span class="o">.</span><span class="n">dylib</span> <span class="o">-</span><span class="n">n</span> <span class="n">foo</span>
</pre></div>
</div>
<p>The –shlib option can also be repeated to specify several shared libraries.</p>
<p>Suggestions on more interesting primitives of this sort are also very welcome.</p>
<p>Just like gdb, the lldb command interpreter does a shortest unique string match
on command names, so the following two commands will both execute the same
command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">breakpoint</span> <span class="nb">set</span> <span class="o">-</span><span class="n">n</span> <span class="s2">&quot;-[SKTGraphicView alignLeftEdges:]&quot;</span>
<span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">br</span> <span class="n">s</span> <span class="o">-</span><span class="n">n</span> <span class="s2">&quot;-[SKTGraphicView alignLeftEdges:]&quot;</span>
</pre></div>
</div>
<p>lldb also supports command completion for source file names, symbol names, file
names, etc. Completion is initiated by a hitting a TAB. Individual options in a
command can have different completers, so for instance the “–file &lt;path&gt;”
option in “breakpoint” completes to source files, the “–shlib &lt;path&gt;” option
to currently loaded shared libraries, etc. We can even do things like if you
specify “–shlib &lt;path&gt;”, and are completing on “–file &lt;path&gt;”, we will only
list source files in the shared library specified by “–shlib &lt;path&gt;”.</p>
<p>The individual commands are pretty extensively documented. You can use the help
command to get an overview of which commands are available or to obtain details
about specific commands. There is also an apropos command that will search the
help text for all commands for a particular word and dump a summary help string
for each matching command.</p>
<p>Finally, there is a mechanism to construct aliases for commonly used commands.
So for instance if you get annoyed typing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">breakpoint</span> <span class="nb">set</span> <span class="o">--</span><span class="n">file</span> <span class="n">foo</span><span class="o">.</span><span class="n">c</span> <span class="o">--</span><span class="n">line</span> <span class="mi">12</span>
</pre></div>
</div>
<p>you can do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">command</span> <span class="n">alias</span> <span class="n">bfl</span> <span class="n">breakpoint</span> <span class="nb">set</span> <span class="o">-</span><span class="n">f</span> <span class="o">%</span><span class="mi">1</span> <span class="o">-</span><span class="n">l</span> <span class="o">%</span><span class="mi">2</span>
<span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">bfl</span> <span class="n">foo</span><span class="o">.</span><span class="n">c</span> <span class="mi">12</span>
</pre></div>
</div>
<p>We have added a few aliases for commonly used commands (e.g. “step”, “next” and
“continue”) but we haven’t tried to be exhaustive because in our experience it
is more convenient to make the basic commands unique down to a letter or two,
and then learn these sequences than to fill the namespace with lots of aliases,
and then have to type them all the way out.</p>
<p>However, users are free to customize lldb’s command set however they like, and
since lldb reads the file ~/.lldbinit at startup, you can store all your
aliases there and they will be generally available to you. Your aliases are
also documented in the help command so you can remind yourself of what you’ve
set up.</p>
<p>One alias of note that we do include by popular demand is a weak emulator of
gdb’s “break” command. It doesn’t try to do everything that gdb’s break command
does (for instance, it doesn’t handle foo.c::bar. But it mostly works, and
makes the transition easier. Also by popular demand, it is aliased to b. If you
actually want to learn the lldb command set natively, that means it will get in
the way of the rest of the breakpoint commands. Fortunately, if you don’t like
one of our aliases, you an easily get rid of it by running (for example):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">command</span> <span class="n">unalias</span> <span class="n">b</span>
</pre></div>
</div>
<p>I actually also do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">command</span> <span class="n">alias</span> <span class="n">b</span> <span class="n">breakpoint</span>
</pre></div>
</div>
<p>so I can run the native lldb breakpoint command with just b</p>
<p>The lldb command parser also supports “raw” commands, where, after command
options are stripped off, the rest of the command string is passed
uninterpreted to the command. This is convenient for commands whose arguments
might be some complex expression that would be painful to backslash protect.
For instance the “expression” command is a “raw” command for obvious reasons.
The “help” output for a command will tell you if it is “raw” or not, so you
know what to expect. The one thing you have to watch out for is that since raw
commands still can have options, if your command string has dashes in it,
you’ll have to indicate these are not option markers by putting “–” after the
command name, but before your command string.</p>
<p>lldb also has a built-in Python interpreter, which is accessible by the
“script” command. All the functionality of the debugger is available as classes
in the Python interpreter, so the more complex commands that in gdb you would
introduce with the “define” command can be done by writing Python functions
using the lldb-Python library, then loading the scripts into your running
session and accessing them with the “script” command.</p>
<p>Having given an overview of lldb’s command syntax, we proceed to lay out the
stages of a standard debug session.</p>
</div>
<div class="section" id="loading-a-program-into-lldb">
<h2><a class="toc-backref" href="#id2">Loading a Program into lldb</a><a class="headerlink" href="#loading-a-program-into-lldb" title="Permalink to this headline">¶</a></h2>
<p>First we need to set the program to debug. As with gdb, you can start lldb and specify the file you wish to debug on the command line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ lldb /Projects/Sketch/build/Debug/Sketch.app
Current executable set to &#39;/Projects/Sketch/build/Debug/Sketch.app&#39; (x86_64).
</pre></div>
</div>
<p>or you can specify it after the fact with the “file” command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ lldb
(lldb) file /Projects/Sketch/build/Debug/Sketch.app
Current executable set to &#39;/Projects/Sketch/build/Debug/Sketch.app&#39; (x86_64).
</pre></div>
</div>
</div>
<div class="section" id="setting-breakpoints">
<h2><a class="toc-backref" href="#id3">Setting Breakpoints</a><a class="headerlink" href="#setting-breakpoints" title="Permalink to this headline">¶</a></h2>
<p>We’ve discussed how to set breakpoints above. You can use help breakpoint set
to see all the options for breakpoint setting. For instance, we might do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">breakpoint</span> <span class="nb">set</span> <span class="o">--</span><span class="n">selector</span> <span class="n">alignLeftEdges</span><span class="p">:</span>
<span class="n">Breakpoint</span> <span class="n">created</span><span class="p">:</span> <span class="mi">1</span><span class="p">:</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;alignLeftEdges:&#39;</span><span class="p">,</span> <span class="n">locations</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">resolved</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</div>
<p>You can find out about the breakpoints you’ve set with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(lldb) breakpoint list
Current breakpoints:
1: name = &#39;alignLeftEdges:&#39;, locations = 1, resolved = 1
1.1: where = Sketch`-[SKTGraphicView alignLeftEdges:] + 33 at /Projects/Sketch/SKTGraphicView.m:1405, address = 0x0000000100010d5b, resolved, hit count = 0
</pre></div>
</div>
<p>Note that setting a breakpoint creates a logical breakpoint, which could
resolve to one or more locations. For instance, break by selector would set a
breakpoint on all the methods that implement that selector in the classes in
your program. Similarly, a file and line breakpoint might result in multiple
locations if that file and line were inlined in different places in your code.</p>
<p>The logical breakpoint has an integer id, and it’s locations have an id within
their parent breakpoint (the two are joined by a “.”, e.g. 1.1 in the example
above.)</p>
<p>Also the logical breakpoints remain live so that if another shared library were
to be loaded that had another implementation of the “alignLeftEdges:” selector,
the new location would be added to breakpoint 1 (e.g. a “1.2” breakpoint would
be set on the newly loaded selector).</p>
<p>The other piece of information in the breakpoint listing is whether the
breakpoint location was resolved or not. A location gets resolved when the file
address it corresponds to gets loaded into the program you are debugging. For
instance if you set a breakpoint in a shared library that then gets unloaded,
that breakpoint location will remain, but it will no longer be resolved.</p>
<p>One other thing to note for gdb users is that lldb acts like gdb with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">gdb</span><span class="p">)</span> <span class="nb">set</span> <span class="n">breakpoint</span> <span class="n">pending</span> <span class="n">on</span>
</pre></div>
</div>
<p>That is, lldb will always make a breakpoint from your specification, even if it
couldn’t find any locations that match the specification. You can tell whether
the expression was resolved or not by checking the locations field in
“breakpoint list”, and we report the breakpoint as “pending” when you set it so
you can tell you’ve made a typo more easily, if that was indeed the reason no
locations were found:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">breakpoint</span> <span class="nb">set</span> <span class="o">--</span><span class="n">file</span> <span class="n">foo</span><span class="o">.</span><span class="n">c</span> <span class="o">--</span><span class="n">line</span> <span class="mi">12</span>
<span class="n">Breakpoint</span> <span class="n">created</span><span class="p">:</span> <span class="mi">2</span><span class="p">:</span> <span class="n">file</span> <span class="o">=</span><span class="s1">&#39;foo.c&#39;</span><span class="p">,</span> <span class="n">line</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span> <span class="n">locations</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">(</span><span class="n">pending</span><span class="p">)</span>
<span class="n">WARNING</span><span class="p">:</span> <span class="n">Unable</span> <span class="n">to</span> <span class="n">resolve</span> <span class="n">breakpoint</span> <span class="n">to</span> <span class="nb">any</span> <span class="n">actual</span> <span class="n">locations</span><span class="o">.</span>
</pre></div>
</div>
<p>You can delete, disable, set conditions and ignore counts either on all the
locations generated by your logical breakpoint, or on any one of the particular
locations your specification resolved to. For instance if we wanted to add a
command to print a backtrace when we hit this breakpoint we could do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">breakpoint</span> <span class="n">command</span> <span class="n">add</span> <span class="mf">1.1</span>
<span class="n">Enter</span> <span class="n">your</span> <span class="n">debugger</span> <span class="n">command</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">.</span> <span class="n">Type</span> <span class="s1">&#39;DONE&#39;</span> <span class="n">to</span> <span class="n">end</span><span class="o">.</span>
<span class="o">&gt;</span> <span class="n">bt</span>
<span class="o">&gt;</span> <span class="n">DONE</span>
</pre></div>
</div>
<p>By default, the breakpoint command add command takes lldb command line
commands. You can also specify this explicitly by passing the “–command”
option. Use “–script” if you want to implement your breakpoint command using
the Python script instead.</p>
<p>This is an convenient point to bring up another feature of the lldb command
help. Do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">help</span> <span class="k">break</span> <span class="n">command</span> <span class="n">add</span>
<span class="n">Add</span> <span class="n">a</span> <span class="nb">set</span> <span class="n">of</span> <span class="n">commands</span> <span class="n">to</span> <span class="n">a</span> <span class="n">breakpoint</span><span class="p">,</span> <span class="n">to</span> <span class="n">be</span> <span class="n">executed</span> <span class="n">whenever</span> <span class="n">the</span> <span class="n">breakpoint</span> <span class="ow">is</span> <span class="n">hit</span><span class="o">.</span>

<span class="n">Syntax</span><span class="p">:</span> <span class="n">breakpoint</span> <span class="n">command</span> <span class="n">add</span> <span class="o">&lt;</span><span class="n">cmd</span><span class="o">-</span><span class="n">options</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">breakpt</span><span class="o">-</span><span class="nb">id</span><span class="o">&gt;</span>
<span class="n">etc</span><span class="o">...</span>
</pre></div>
</div>
<p>When you see arguments to commands specified in the Syntax in angle brackets
like &lt;breakpt-id&gt;, that indicates that that is some common argument type that
you can get further help on from the command system. So in this case you could
do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">help</span> <span class="o">&lt;</span><span class="n">breakpt</span><span class="o">-</span><span class="nb">id</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">breakpt</span><span class="o">-</span><span class="nb">id</span><span class="o">&gt;</span> <span class="o">--</span> <span class="n">Breakpoint</span> <span class="n">ID</span><span class="s1">&#39;s consist major and</span>
<span class="n">minor</span> <span class="n">numbers</span><span class="p">;</span> <span class="n">the</span> <span class="n">major</span> <span class="n">etc</span><span class="o">...</span>
</pre></div>
</div>
</div>
<div class="section" id="breakpoint-names">
<h2><a class="toc-backref" href="#id4">Breakpoint Names</a><a class="headerlink" href="#breakpoint-names" title="Permalink to this headline">¶</a></h2>
<p>Breakpoints carry two orthognal sets of information: one specifies where to set the breakpoint, and the other how to react when the breakpoint is hit. The latter set of information (e.g. commands, conditions, hit-count, auto-continue…) we call breakpoint options.</p>
<p>It is fairly common to want to apply one set of options to a number of breakpoints. For instance, you might want to check that self == nil and if it is, print a backtrace and continue, on a number of methods. One convenient way to do that would be to make all the breakpoints, then configure the options with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">breakpoint</span> <span class="n">modify</span> <span class="o">-</span><span class="n">c</span> <span class="s2">&quot;self == nil&quot;</span> <span class="o">-</span><span class="n">C</span> <span class="n">bt</span> <span class="o">--</span><span class="n">auto</span><span class="o">-</span><span class="k">continue</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span>
</pre></div>
</div>
<p>That’s not too bad, but you have to repeat this for every new breakpoint you make, and if you wanted to change the options, you have to remember all the ones you are using this way.</p>
<p>Breakpoint names provide a convenient solution to this problem. The simple solution would be to use the name to gather the breakpoints you want to affect this way into a group. So when you make the breakpoint you would do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">breakpoint</span> <span class="nb">set</span> <span class="o">-</span><span class="n">N</span> <span class="n">SelfNil</span>
</pre></div>
</div>
<p>Then when you’ve made all your breakpoints, you can set up or modify the options using the name to collect all the relevant breakpoints.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">breakpoint</span> <span class="n">modify</span> <span class="o">-</span><span class="n">c</span> <span class="s2">&quot;self == nil&quot;</span> <span class="o">-</span><span class="n">C</span> <span class="n">bt</span> <span class="o">--</span><span class="n">auto</span><span class="o">-</span><span class="k">continue</span> <span class="n">SelfNil</span>
</pre></div>
</div>
<p>That is better, but suffers from the problem that when new breakpoints get
added, they don’t pick up these modifications, and the options only exist in
the context of actual breakpoints, so they are hard to store &amp; reuse.</p>
<p>A even better solution is to make a fully configured breakpoint name:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">breakpoint</span> <span class="n">name</span> <span class="n">configure</span> <span class="o">-</span><span class="n">c</span> <span class="s2">&quot;self == nil&quot;</span> <span class="o">-</span><span class="n">C</span> <span class="n">bt</span> <span class="o">--</span><span class="n">auto</span><span class="o">-</span><span class="k">continue</span> <span class="n">SelfNil</span>
</pre></div>
</div>
<p>Then you can apply the name to your breakpoints, and they will all pick up
these options. The connection from name to breakpoints remains live, so when
you change the options configured on the name, all the breakpoints pick up
those changes. This makes it easy to use configured names to experiment with
your options.</p>
<p>You can make breakpoint names in your .lldbinit file, so you can use them to
can behaviors that you have found useful and reapply them in future sessions.</p>
<p>You can also make a breakpoint name from the options set on a breakpoint:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">breakpoint</span> <span class="n">name</span> <span class="n">configure</span> <span class="o">-</span><span class="n">B</span> <span class="mi">1</span> <span class="n">SelfNil</span>
</pre></div>
</div>
<p>which makes it easy to copy behavior from one breakpoint to a set of others.</p>
</div>
<div class="section" id="setting-watchpoints">
<h2><a class="toc-backref" href="#id5">Setting Watchpoints</a><a class="headerlink" href="#setting-watchpoints" title="Permalink to this headline">¶</a></h2>
<p>In addition to breakpoints, you can use help watchpoint to see all the commands
for watchpoint manipulations. For instance, we might do the following to watch
a variable called ‘global’ for write operation, but only stop if the condition
‘(global==5)’ is true:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">watch</span> <span class="nb">set</span> <span class="n">var</span> <span class="k">global</span>
<span class="n">Watchpoint</span> <span class="n">created</span><span class="p">:</span> <span class="n">Watchpoint</span> <span class="mi">1</span><span class="p">:</span> <span class="n">addr</span> <span class="o">=</span> <span class="mh">0x100001018</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">4</span> <span class="n">state</span> <span class="o">=</span> <span class="n">enabled</span> <span class="nb">type</span> <span class="o">=</span> <span class="n">w</span>
   <span class="n">declare</span> <span class="o">@</span> <span class="s1">&#39;/Volumes/data/lldb/svn/ToT/test/functionalities/watchpoint/watchpoint_commands/condition/main.cpp:12&#39;</span>
<span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">watch</span> <span class="n">modify</span> <span class="o">-</span><span class="n">c</span> <span class="s1">&#39;(global==5)&#39;</span>
<span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">watch</span> <span class="nb">list</span>
<span class="n">Current</span> <span class="n">watchpoints</span><span class="p">:</span>
<span class="n">Watchpoint</span> <span class="mi">1</span><span class="p">:</span> <span class="n">addr</span> <span class="o">=</span> <span class="mh">0x100001018</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">4</span> <span class="n">state</span> <span class="o">=</span> <span class="n">enabled</span> <span class="nb">type</span> <span class="o">=</span> <span class="n">w</span>
   <span class="n">declare</span> <span class="o">@</span> <span class="s1">&#39;/Volumes/data/lldb/svn/ToT/test/functionalities/watchpoint/watchpoint_commands/condition/main.cpp:12&#39;</span>
   <span class="n">condition</span> <span class="o">=</span> <span class="s1">&#39;(global==5)&#39;</span>
<span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">c</span>
<span class="n">Process</span> <span class="mi">15562</span> <span class="n">resuming</span>
<span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">about</span> <span class="n">to</span> <span class="n">write</span> <span class="n">to</span> <span class="s1">&#39;global&#39;</span><span class="o">...</span>
<span class="n">Process</span> <span class="mi">15562</span> <span class="n">stopped</span> <span class="ow">and</span> <span class="n">was</span> <span class="n">programmatically</span> <span class="n">restarted</span><span class="o">.</span>
<span class="n">Process</span> <span class="mi">15562</span> <span class="n">stopped</span> <span class="ow">and</span> <span class="n">was</span> <span class="n">programmatically</span> <span class="n">restarted</span><span class="o">.</span>
<span class="n">Process</span> <span class="mi">15562</span> <span class="n">stopped</span> <span class="ow">and</span> <span class="n">was</span> <span class="n">programmatically</span> <span class="n">restarted</span><span class="o">.</span>
<span class="n">Process</span> <span class="mi">15562</span> <span class="n">stopped</span> <span class="ow">and</span> <span class="n">was</span> <span class="n">programmatically</span> <span class="n">restarted</span><span class="o">.</span>
<span class="n">Process</span> <span class="mi">15562</span> <span class="n">stopped</span>
<span class="o">*</span> <span class="n">thread</span> <span class="c1">#1: tid = 0x1c03, 0x0000000100000ef5 a.out`modify + 21 at main.cpp:16, stop reason = watchpoint 1</span>
   <span class="n">frame</span> <span class="c1">#0: 0x0000000100000ef5 a.out`modify + 21 at main.cpp:16</span>
   <span class="mi">13</span>
   <span class="mi">14</span>        <span class="n">static</span> <span class="n">void</span> <span class="n">modify</span><span class="p">(</span><span class="n">int32_t</span> <span class="o">&amp;</span><span class="n">var</span><span class="p">)</span> <span class="p">{</span>
   <span class="mi">15</span>            <span class="o">++</span><span class="n">var</span><span class="p">;</span>
<span class="o">-&gt;</span> <span class="mi">16</span>        <span class="p">}</span>
   <span class="mi">17</span>
   <span class="mi">18</span>        <span class="nb">int</span> <span class="n">main</span><span class="p">(</span><span class="nb">int</span> <span class="n">argc</span><span class="p">,</span> <span class="n">char</span><span class="o">**</span> <span class="n">argv</span><span class="p">)</span> <span class="p">{</span>
   <span class="mi">19</span>            <span class="nb">int</span> <span class="n">local</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">bt</span>
<span class="o">*</span> <span class="n">thread</span> <span class="c1">#1: tid = 0x1c03, 0x0000000100000ef5 a.out`modify + 21 at main.cpp:16, stop reason = watchpoint 1</span>
   <span class="n">frame</span> <span class="c1">#0: 0x0000000100000ef5 a.out`modify + 21 at main.cpp:16</span>
   <span class="n">frame</span> <span class="c1">#1: 0x0000000100000eac a.out`main + 108 at main.cpp:25</span>
   <span class="n">frame</span> <span class="c1">#2: 0x00007fff8ac9c7e1 libdyld.dylib`start + 1</span>
<span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">frame</span> <span class="n">var</span> <span class="k">global</span>
<span class="p">(</span><span class="n">int32_t</span><span class="p">)</span> <span class="k">global</span> <span class="o">=</span> <span class="mi">5</span>
<span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">watch</span> <span class="nb">list</span> <span class="o">-</span><span class="n">v</span>
<span class="n">Current</span> <span class="n">watchpoints</span><span class="p">:</span>
<span class="n">Watchpoint</span> <span class="mi">1</span><span class="p">:</span> <span class="n">addr</span> <span class="o">=</span> <span class="mh">0x100001018</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">4</span> <span class="n">state</span> <span class="o">=</span> <span class="n">enabled</span> <span class="nb">type</span> <span class="o">=</span> <span class="n">w</span>
   <span class="n">declare</span> <span class="o">@</span> <span class="s1">&#39;/Volumes/data/lldb/svn/ToT/test/functionalities/watchpoint/watchpoint_commands/condition/main.cpp:12&#39;</span>
   <span class="n">condition</span> <span class="o">=</span> <span class="s1">&#39;(global==5)&#39;</span>
   <span class="n">hw_index</span> <span class="o">=</span> <span class="mi">0</span>  <span class="n">hit_count</span> <span class="o">=</span> <span class="mi">5</span>     <span class="n">ignore_count</span> <span class="o">=</span> <span class="mi">0</span>
<span class="p">(</span><span class="n">lldb</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="starting-or-attaching-to-your-program">
<h2><a class="toc-backref" href="#id6">Starting or Attaching to Your Program</a><a class="headerlink" href="#starting-or-attaching-to-your-program" title="Permalink to this headline">¶</a></h2>
<p>To launch a program in lldb we use the “process launch” command or one of its built in aliases:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">process</span> <span class="n">launch</span>
<span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">run</span>
<span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">r</span>
</pre></div>
</div>
<p>You can also attach to a process by process ID or process name. When attaching
to a process by name, lldb also supports the “–waitfor” option which waits for
the next process that has that name to show up, and attaches to it</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">process</span> <span class="n">attach</span> <span class="o">--</span><span class="n">pid</span> <span class="mi">123</span>
<span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">process</span> <span class="n">attach</span> <span class="o">--</span><span class="n">name</span> <span class="n">Sketch</span>
<span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">process</span> <span class="n">attach</span> <span class="o">--</span><span class="n">name</span> <span class="n">Sketch</span> <span class="o">--</span><span class="n">waitfor</span>
</pre></div>
</div>
<p>After you launch or attach to a process, your process might stop somewhere:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">process</span> <span class="n">attach</span> <span class="o">-</span><span class="n">p</span> <span class="mi">12345</span>
<span class="n">Process</span> <span class="mi">46915</span> <span class="n">Attaching</span>
<span class="n">Process</span> <span class="mi">46915</span> <span class="n">Stopped</span>
<span class="mi">1</span> <span class="n">of</span> <span class="mi">3</span> <span class="n">threads</span> <span class="n">stopped</span> <span class="k">with</span> <span class="n">reasons</span><span class="p">:</span>
<span class="o">*</span> <span class="n">thread</span> <span class="c1">#1: tid = 0x2c03, 0x00007fff85cac76a, where = libSystem.B.dylib`__getdirentries64 + 10, stop reason = signal = SIGSTOP, queue = com.apple.main-thread</span>
</pre></div>
</div>
<p>Note the line that says “1 of 3 threads stopped with reasons:” and the lines
that follow it. In a multi-threaded environment it is very common for more than
one thread to hit your breakpoint(s) before the kernel actually returns control
to the debugger. In that case, you will see all the threads that stopped for
some interesting reason listed in the stop message.</p>
</div>
<div class="section" id="controlling-your-program">
<h2><a class="toc-backref" href="#id7">Controlling Your Program</a><a class="headerlink" href="#controlling-your-program" title="Permalink to this headline">¶</a></h2>
<p>After launching, we can continue until we hit our breakpoint. The primitive commands for process control all exist under the “thread” command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">thread</span> <span class="k">continue</span>
<span class="n">Resuming</span> <span class="n">thread</span> <span class="mh">0x2c03</span> <span class="ow">in</span> <span class="n">process</span> <span class="mi">46915</span>
<span class="n">Resuming</span> <span class="n">process</span> <span class="mi">46915</span>
<span class="p">(</span><span class="n">lldb</span><span class="p">)</span>
</pre></div>
</div>
<p>At present you can only operate on one thread at a time, but the design will ultimately support saying “step over the function in Thread 1, and step into the function in Thread 2, and continue Thread 3” etc. When we eventually support keeping some threads running while others are stopped this will be particularly important. For convenience, however, all the stepping commands have easy aliases. So “thread continue” is just “c”, etc.</p>
<p>The other program stepping commands are pretty much the same as in gdb. You’ve got:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">thread</span> <span class="n">step</span><span class="o">-</span><span class="ow">in</span>    <span class="o">//</span> <span class="n">The</span> <span class="n">same</span> <span class="k">as</span> <span class="n">gdb</span><span class="s1">&#39;s &quot;step&quot; or &quot;s&quot;</span>
<span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">thread</span> <span class="n">step</span><span class="o">-</span><span class="n">over</span>  <span class="o">//</span> <span class="n">The</span> <span class="n">same</span> <span class="k">as</span> <span class="n">gdb</span><span class="s1">&#39;s &quot;next&quot; or &quot;n&quot;</span>
<span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">thread</span> <span class="n">step</span><span class="o">-</span><span class="n">out</span>   <span class="o">//</span> <span class="n">The</span> <span class="n">same</span> <span class="k">as</span> <span class="n">gdb</span><span class="s1">&#39;s &quot;finish&quot; or &quot;f&quot;</span>
</pre></div>
</div>
<p>By default, lldb does defined aliases to all common gdb process control commands (“s”, “step”, “n”, “next”, “finish”). If we have missed any, please add them to your ~/.lldbinit file using the “command alias” command.</p>
<p>lldb also supported the step by instruction versions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">thread</span> <span class="n">step</span><span class="o">-</span><span class="n">inst</span>       <span class="o">//</span> <span class="n">The</span> <span class="n">same</span> <span class="k">as</span> <span class="n">gdb</span><span class="s1">&#39;s &quot;stepi&quot; / &quot;si&quot;</span>
<span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">thread</span> <span class="n">step</span><span class="o">-</span><span class="n">over</span><span class="o">-</span><span class="n">inst</span>  <span class="o">//</span> <span class="n">The</span> <span class="n">same</span> <span class="k">as</span> <span class="n">gdb</span><span class="s1">&#39;s &quot;nexti&quot; / &quot;ni&quot;</span>
</pre></div>
</div>
<p>Finally, lldb has a run until line or frame exit stepping mode:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">thread</span> <span class="n">until</span> <span class="mi">100</span>
</pre></div>
</div>
<p>This command will run the thread in the current frame till it reaches line 100
in this frame or stops if it leaves the current frame. This is a pretty close
equivalent to gdb’s “until” command.</p>
<p>A process, by default, will share the lldb terminal with the inferior process.
When in this mode, much like when debugging with gdb, when the process is
running anything you type will go to the STDIN of the inferior process. To
interrupt your inferior program, type CTRL+C.</p>
<p>If you attach to a process, or launch a process with the “–no-stdin” option,
the command interpreter is always available to enter commands. This might be a
little disconcerting to gdb users when always have an (lldb) prompt. This
allows you to set a breakpoint, etc without having to explicitly interrupt the
program you are debugging:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">process</span> <span class="k">continue</span>
<span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">breakpoint</span> <span class="nb">set</span> <span class="o">--</span><span class="n">name</span> <span class="n">stop_here</span>
</pre></div>
</div>
<p>There are many commands that won’t work while running, and the command
interpreter should do a good job of letting you know when this is the case. If
you find any instances where the command interpreter isn’t doing its job,
please file a bug. This way of operation will set us up for a future debugging
mode called thread centric debugging. This mode will allow us to run all
threads and only stop the threads that are at breakpoints or have exceptions or
signals.</p>
<p>The commands that currently work while running include interrupting the process
to halt execution (“process interrupt”), getting the process status (“process
status”), breakpoint setting and clearing (” breakpoint
[set|clear|enable|disable|list] …”), and memory reading and writing (” memory
[read|write] …”).</p>
<p>The question of disabling stdio when running brings up a good opportunity to
show how to set debugger properties in general. If you always want to run in
the –no-stdin mode, you can set this as a generic process property using the
lldb “settings” command, which is equivalent to gdb’s “set” command. For
instance, in this case you would say:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">settings</span> <span class="nb">set</span> <span class="n">target</span><span class="o">.</span><span class="n">process</span><span class="o">.</span><span class="n">disable</span><span class="o">-</span><span class="n">stdio</span> <span class="n">true</span>
</pre></div>
</div>
<p>Over time, gdb’s “set command became a wilderness of disordered options, so
that there were useful options that even experienced gdb users didn’t know
about because they were too hard to find. We tried to organize the settings
hierarchically using the structure of the basic entities in the debugger. For
the most part anywhere you can specify a setting on a generic entity (threads,
for example) you can also apply the option to a particular instance, which can
also be convenient at times. You can view the available settings with “settings
list” and there is help on the settings command explaining how it works more
generally.</p>
</div>
<div class="section" id="examining-thread-state">
<h2><a class="toc-backref" href="#id8">Examining Thread State</a><a class="headerlink" href="#examining-thread-state" title="Permalink to this headline">¶</a></h2>
<p>Once you’ve stopped, lldb will choose a current thread, usually the one that
stopped “for a reason”, and a current frame in that thread (on stop this is
always the bottom-most frame). Many the commands for inspecting state work on
this current thread/frame.</p>
<p>To inspect the current state of your process, you can start with the threads:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">thread</span> <span class="nb">list</span>
<span class="n">Process</span> <span class="mi">46915</span> <span class="n">state</span> <span class="ow">is</span> <span class="n">Stopped</span>
<span class="o">*</span> <span class="n">thread</span> <span class="c1">#1: tid = 0x2c03, 0x00007fff85cac76a, where = libSystem.B.dylib`__getdirentries64 + 10, stop reason = signal = SIGSTOP, queue = com.apple.main-thread</span>
<span class="n">thread</span> <span class="c1">#2: tid = 0x2e03, 0x00007fff85cbb08a, where = libSystem.B.dylib`kevent + 10, queue = com.apple.libdispatch-manager</span>
<span class="n">thread</span> <span class="c1">#3: tid = 0x2f03, 0x00007fff85cbbeaa, where = libSystem.B.dylib`__workq_kernreturn + 10</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">*</span></code> indicates that Thread 1 is the current thread. To get a backtrace for
that thread, do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">thread</span> <span class="n">backtrace</span>
<span class="n">thread</span> <span class="c1">#1: tid = 0x2c03, stop reason = breakpoint 1.1, queue = com.apple.main-thread</span>
<span class="n">frame</span> <span class="c1">#0: 0x0000000100010d5b, where = Sketch`-[SKTGraphicView alignLeftEdges:] + 33 at /Projects/Sketch/SKTGraphicView.m:1405</span>
<span class="n">frame</span> <span class="c1">#1: 0x00007fff8602d152, where = AppKit`-[NSApplication sendAction:to:from:] + 95</span>
<span class="n">frame</span> <span class="c1">#2: 0x00007fff860516be, where = AppKit`-[NSMenuItem _corePerformAction] + 365</span>
<span class="n">frame</span> <span class="c1">#3: 0x00007fff86051428, where = AppKit`-[NSCarbonMenuImpl performActionWithHighlightingForItemAtIndex:] + 121</span>
<span class="n">frame</span> <span class="c1">#4: 0x00007fff860370c1, where = AppKit`-[NSMenu performKeyEquivalent:] + 272</span>
<span class="n">frame</span> <span class="c1">#5: 0x00007fff86035e69, where = AppKit`-[NSApplication _handleKeyEquivalent:] + 559</span>
<span class="n">frame</span> <span class="c1">#6: 0x00007fff85f06aa1, where = AppKit`-[NSApplication sendEvent:] + 3630</span>
<span class="n">frame</span> <span class="c1">#7: 0x00007fff85e9d922, where = AppKit`-[NSApplication run] + 474</span>
<span class="n">frame</span> <span class="c1">#8: 0x00007fff85e965f8, where = AppKit`NSApplicationMain + 364</span>
<span class="n">frame</span> <span class="c1">#9: 0x0000000100015ae3, where = Sketch`main + 33 at /Projects/Sketch/SKTMain.m:11</span>
<span class="n">frame</span> <span class="c1">#10: 0x0000000100000f20, where = Sketch`start + 52</span>
</pre></div>
</div>
<p>You can also provide a list of threads to backtrace, or the keyword “all” to see all threads:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">thread</span> <span class="n">backtrace</span> <span class="nb">all</span>
</pre></div>
</div>
<p>You can select the current thread, which will be used by default in all the
commands in the next section, with the “thread select” command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">thread</span> <span class="n">select</span> <span class="mi">2</span>
</pre></div>
</div>
<p>where the thread index is just the one shown in the “thread list” listing.</p>
</div>
<div class="section" id="examining-stack-frame-state">
<h2><a class="toc-backref" href="#id9">Examining Stack Frame State</a><a class="headerlink" href="#examining-stack-frame-state" title="Permalink to this headline">¶</a></h2>
<p>The most convenient way to inspect a frame’s arguments and local variables is
to use the “frame variable” command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">frame</span> <span class="n">variable</span>
<span class="bp">self</span> <span class="o">=</span> <span class="p">(</span><span class="n">SKTGraphicView</span> <span class="o">*</span><span class="p">)</span> <span class="mh">0x0000000100208b40</span>
<span class="n">_cmd</span> <span class="o">=</span> <span class="p">(</span><span class="n">struct</span> <span class="n">objc_selector</span> <span class="o">*</span><span class="p">)</span> <span class="mh">0x000000010001bae1</span>
<span class="n">sender</span> <span class="o">=</span> <span class="p">(</span><span class="nb">id</span><span class="p">)</span> <span class="mh">0x00000001001264e0</span>
<span class="n">selection</span> <span class="o">=</span> <span class="p">(</span><span class="n">NSArray</span> <span class="o">*</span><span class="p">)</span> <span class="mh">0x00000001001264e0</span>
<span class="n">i</span> <span class="o">=</span> <span class="p">(</span><span class="n">NSUInteger</span><span class="p">)</span> <span class="mh">0x00000001001264e0</span>
<span class="n">c</span> <span class="o">=</span> <span class="p">(</span><span class="n">NSUInteger</span><span class="p">)</span> <span class="mh">0x00000001001253b0</span>
</pre></div>
</div>
<p>As you see above, if you don’t specify any variable names, all arguments and
locals will be shown. If you call “frame variable” passing in the names of a
particular local(s), only those variables will be printed. For instance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">frame</span> <span class="n">variable</span> <span class="bp">self</span>
<span class="p">(</span><span class="n">SKTGraphicView</span> <span class="o">*</span><span class="p">)</span> <span class="bp">self</span> <span class="o">=</span> <span class="mh">0x0000000100208b40</span>
</pre></div>
</div>
<p>You can also pass in a path to some subelement of one of the available locals,
and that sub-element will be printed. For instance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">frame</span> <span class="n">variable</span> <span class="bp">self</span><span class="o">.</span><span class="n">isa</span>
<span class="p">(</span><span class="n">struct</span> <span class="n">objc_class</span> <span class="o">*</span><span class="p">)</span> <span class="bp">self</span><span class="o">.</span><span class="n">isa</span> <span class="o">=</span> <span class="mh">0x0000000100023730</span>
</pre></div>
</div>
<p>The “frame variable” command is not a full expression parser but it does
support a few simple operations like <code class="docutils literal notranslate"><span class="pre">&amp;</span></code>, <code class="docutils literal notranslate"><span class="pre">*</span></code>, <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">[]</span></code> (no
overloaded operators). The array brackets can be used on pointers to treat
pointers as arrays:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">frame</span> <span class="n">variable</span> <span class="o">*</span><span class="bp">self</span>
<span class="p">(</span><span class="n">SKTGraphicView</span> <span class="o">*</span><span class="p">)</span> <span class="bp">self</span> <span class="o">=</span> <span class="mh">0x0000000100208b40</span>
<span class="p">(</span><span class="n">NSView</span><span class="p">)</span> <span class="n">NSView</span> <span class="o">=</span> <span class="p">{</span>
<span class="p">(</span><span class="n">NSResponder</span><span class="p">)</span> <span class="n">NSResponder</span> <span class="o">=</span> <span class="p">{</span>
<span class="o">...</span>

<span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">frame</span> <span class="n">variable</span> <span class="o">&amp;</span><span class="bp">self</span>
<span class="p">(</span><span class="n">SKTGraphicView</span> <span class="o">**</span><span class="p">)</span> <span class="o">&amp;</span><span class="bp">self</span> <span class="o">=</span> <span class="mh">0x0000000100304ab</span>

<span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">frame</span> <span class="n">variable</span> <span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="p">(</span><span class="n">char</span> <span class="n">const</span> <span class="o">*</span><span class="p">)</span> <span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00007fff5fbffaf8</span> <span class="s2">&quot;/Projects/Sketch/build/Debug/Sketch.app/Contents/MacOS/Sketch&quot;</span>
</pre></div>
</div>
<p>The frame variable command will also perform “object printing” operations on
variables (currently we only support ObjC printing, using the object’s
“description” method. Turn this on by passing the -o flag to frame variable:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">frame</span> <span class="n">variable</span> <span class="o">-</span><span class="n">o</span> <span class="bp">self</span> <span class="p">(</span><span class="n">SKTGraphicView</span> <span class="o">*</span><span class="p">)</span> <span class="bp">self</span> <span class="o">=</span> <span class="mh">0x0000000100208b40</span> <span class="o">&lt;</span><span class="n">SKTGraphicView</span><span class="p">:</span> <span class="mh">0x100208b40</span><span class="o">&gt;</span>
<span class="n">You</span> <span class="n">can</span> <span class="n">select</span> <span class="n">another</span> <span class="n">frame</span> <span class="n">to</span> <span class="n">view</span> <span class="k">with</span> <span class="n">the</span> <span class="s2">&quot;frame select&quot;</span> <span class="n">command</span>

<span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">frame</span> <span class="n">select</span> <span class="mi">9</span>
<span class="n">frame</span> <span class="c1">#9: 0x0000000100015ae3, where = Sketch`function1 + 33 at /Projects/Sketch/SKTFunctions.m:11</span>
</pre></div>
</div>
<p>You can also move up and down the stack by passing the “–relative” (“-r”) option. And we have built-in aliases “u” and “d” which behave like their gdb equivalents.</p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">LLDB</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Goals &amp; Status</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../status/goals.html">Goals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../status/features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../status/status.html">Status</a></li>
<li class="toctree-l1"><a class="reference internal" href="../status/projects.html">Projects</a></li>
</ul>
<p class="caption"><span class="caption-text">Use &amp; Extension</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="map.html">GDB to LLDB command map</a></li>
<li class="toctree-l1"><a class="reference internal" href="formatting.html">Frame and Thread Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="variable.html">Variable Formatting</a></li>
<li class="toctree-l1"><a class="reference internal" href="symbolication.html">Symbolication</a></li>
<li class="toctree-l1"><a class="reference internal" href="symbols.html">Symbols on macOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="python.html">Python Scripting</a></li>
<li class="toctree-l1"><a class="reference internal" href="python-reference.html">Python Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="remote.html">Remote Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">Architecture</a></li>
</ul>
<p class="caption"><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../resources/download.html">Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/source.html">Getting the Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/build.html">Build</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/test.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/bots.html">Continuous Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/sbapi.html">The SB API Coding Rules</a></li>
</ul>
<p class="caption"><span class="caption-text">API Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://lldb.llvm.org/python_reference/index.html">Public Python API Reference</a></li>
<li class="toctree-l1"><a class="reference external" href="https://lldb.llvm.org/cpp_reference/namespacelldb.html">Public C++ API Reference</a></li>
<li class="toctree-l1"><a class="reference external" href="https://lldb.llvm.org/cpp_reference/index.html">Private C++ Reference</a></li>
</ul>
<p class="caption"><span class="caption-text">External Links</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="http://llvm.org/viewvc/llvm-project/lldb/trunk/">Source Code</a></li>
<li class="toctree-l1"><a class="reference external" href="https://reviews.llvm.org">Code Reviews</a></li>
<li class="toctree-l1"><a class="reference external" href="https://bugs.llvm.org/">Bug Reports</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="../status/projects.html" title="previous chapter">Projects</a></li>
      <li>Next: <a href="map.html" title="next chapter">GDB to LLDB command map</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2007-2019, The LLDB Team.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    

    
  </body>
</html>